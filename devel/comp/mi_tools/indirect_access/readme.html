<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MI indirect access &mdash; Open FPGA Modules Docs  documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme_overrides.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/sphinx_highlight.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="MI Reconfigurator" href="../reconf/readme.html" />
    <link rel="prev" title="MI Pipe" href="../pipe/readme.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            Open FPGA Modules Docs
          </a>
              <div class="version">
                Git branch: devel, <br> Git hash: 0470acf0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Build system:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../build/readme.html">Build System</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Components:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../base.html">Basic Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ctrls.html">Controllers &amp; TSU</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../fl.html">FL Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../flu.html">FLU Tools</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../mi.html">MI Tools</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../readme.html">MI bus specification</a></li>
<li class="toctree-l2"><a class="reference internal" href="../async/readme.html">MI ASYNC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pipe/readme.html">MI Pipe</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">MI indirect access</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#usage">Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="#address-space">Address space</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../reconf/readme.html">MI Reconfigurator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../splitter_plus_gen/readme.html">MI Splitter Plus Gen</a></li>
<li class="toctree-l2"><a class="reference internal" href="../converters/mi2avmm/readme.html">MI2AVMM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../converters/mi2axi4/readme.html">MI2AXI4</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../mfb.html">MFB Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mvb.html">MVB Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../nic.html">Network Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../pcie.html">PCIe Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../debug.html">Debug Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ver.html">UVM Verification</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Packages:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../base/pkg/readme.html">Packages</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Open FPGA Modules Docs</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../mi.html">MI Tools</a></li>
      <li class="breadcrumb-item active">MI indirect access</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/comp/mi_tools/indirect_access/readme.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="mi-indirect-access">
<span id="id1"></span><h1>MI indirect access<a class="headerlink" href="#mi-indirect-access" title="Permalink to this heading"></a></h1>
<p>Through this component it is possible to send MI transactions indirectly to one or more output interfaces.
That means you have to set the parameters of the MI transaction (by sending Write requests) to a set of registers, which are also accessed by MI.</p>
<dl class="vhdl autoentity">
<dt class="sig sig-object vhdl" id="vhdl-entity-mi_indirect_access">
<span class="k"><span class="pre">ENTITY</span> </span><span class="sig-name descname"><span class="pre">MI_INDIRECT_ACCESS</span></span><span class="k"> <span class="pre">IS</span></span><a class="headerlink" href="#vhdl-entity-mi_indirect_access" title="Permalink to this definition"></a></dt>
<dd><span class="sig-name descname">Generics</span><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Generic</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even" id="vhdl-gengeneric-mi_indirect_access-data_width"><td><p>DATA_WIDTH</p></td>
<td><p>natural</p></td>
<td><p>32</p></td>
<td><p>Width of MI data</p></td>
</tr>
<tr class="row-odd" id="vhdl-gengeneric-mi_indirect_access-addr_width"><td><p>ADDR_WIDTH</p></td>
<td><p>natural</p></td>
<td><p>32</p></td>
<td><p>Width of MI address</p></td>
</tr>
<tr class="row-even" id="vhdl-gengeneric-mi_indirect_access-output_interfaces"><td><p>OUTPUT_INTERFACES</p></td>
<td><p>natural</p></td>
<td><p>3</p></td>
<td><p>Number of output interfaces</p></td>
</tr>
</tbody>
</table>
<span class="sig-name descname">Ports</span><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Port</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Mode</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>=====</p></td>
<td><p>Common interface</p></td>
<td><p>=====</p></td>
<td><p>=====</p></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-mi_indirect_access-clk"><td><p>CLK</p></td>
<td><p>std_logic</p></td>
<td><p>in</p></td>
<td></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-mi_indirect_access-reset"><td><p>RESET</p></td>
<td><p>std_logic</p></td>
<td><p>in</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>=====</p></td>
<td><p>Input MI interface</p></td>
<td><p>=====</p></td>
<td><p>=====</p></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-mi_indirect_access-rx_addr"><td><p>RX_ADDR</p></td>
<td><p>std_logic_vector(ADDR_WIDTH-1 downto 0)</p></td>
<td><p>in</p></td>
<td></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-mi_indirect_access-rx_dwr"><td><p>RX_DWR</p></td>
<td><p>std_logic_vector(DATA_WIDTH-1 downto 0)</p></td>
<td><p>in</p></td>
<td></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-mi_indirect_access-rx_wr"><td><p>RX_WR</p></td>
<td><p>std_logic</p></td>
<td><p>in</p></td>
<td></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-mi_indirect_access-rx_rd"><td><p>RX_RD</p></td>
<td><p>std_logic</p></td>
<td><p>in</p></td>
<td></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-mi_indirect_access-rx_ardy"><td><p>RX_ARDY</p></td>
<td><p>std_logic</p></td>
<td><p>out</p></td>
<td></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-mi_indirect_access-rx_drd"><td><p>RX_DRD</p></td>
<td><p>std_logic_vector(DATA_WIDTH-1 downto 0)</p></td>
<td><p>out</p></td>
<td></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-mi_indirect_access-rx_drdy"><td><p>RX_DRDY</p></td>
<td><p>std_logic</p></td>
<td><p>out</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>=====</p></td>
<td><p>Output MI interface</p></td>
<td><p>=====</p></td>
<td><p>=====</p></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-mi_indirect_access-tx_addr"><td><p>TX_ADDR</p></td>
<td><p>slv_array_t     (OUTPUT_INTERFACES-1 downto 0)(DATA_WIDTH-1 downto 0)</p></td>
<td><p>out</p></td>
<td></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-mi_indirect_access-tx_dwr"><td><p>TX_DWR</p></td>
<td><p>slv_array_t     (OUTPUT_INTERFACES-1 downto 0)(DATA_WIDTH-1 downto 0)</p></td>
<td><p>out</p></td>
<td></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-mi_indirect_access-tx_wr"><td><p>TX_WR</p></td>
<td><p>std_logic_vector(OUTPUT_INTERFACES-1 downto 0)</p></td>
<td><p>out</p></td>
<td></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-mi_indirect_access-tx_rd"><td><p>TX_RD</p></td>
<td><p>std_logic_vector(OUTPUT_INTERFACES-1 downto 0)</p></td>
<td><p>out</p></td>
<td></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-mi_indirect_access-tx_ardy"><td><p>TX_ARDY</p></td>
<td><p>std_logic_vector(OUTPUT_INTERFACES-1 downto 0)</p></td>
<td><p>in</p></td>
<td></td>
</tr>
<tr class="row-odd" id="vhdl-portsignal-mi_indirect_access-tx_drd"><td><p>TX_DRD</p></td>
<td><p>slv_array_t     (OUTPUT_INTERFACES-1 downto 0)(DATA_WIDTH-1 downto 0)</p></td>
<td><p>in</p></td>
<td></td>
</tr>
<tr class="row-even" id="vhdl-portsignal-mi_indirect_access-tx_drdy"><td><p>TX_DRDY</p></td>
<td><p>std_logic_vector(OUTPUT_INTERFACES-1 downto 0)</p></td>
<td><p>in</p></td>
<td></td>
</tr>
</tbody>
</table>
</dd></dl>

<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Check the status bit before sending each request to avoid possible errors.
The LSB of the Status register indicates business of the component- if set high, the component is <strong>busy</strong> and you must not send any requests.</p>
</div>
<p>You can, of course, send Read requests addressed to the Status register to check the current status of the component.</p>
<a class="reference internal image-reference" href="../../../_images/indirect_access.svg"><img alt="MI indirect access block scheme" class="align-center" src="../../../_images/indirect_access.svg" width="100%" /></a>
<section id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this heading"></a></h2>
<p>Set the ID of the desired output interface, Address , Data to be  written (in case it’s a Write reqest), and the Command of the indirect request.
Set LSB of the Command register (cmd(0)) to ‘1’ to send indirect Write request or set cmd(1) to ‘1’ to send indirect Read request.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The indirect request will be sent immediately after recieving a command, so you must set this register last.</p>
</div>
</section>
<section id="address-space">
<h2>Address space<a class="headerlink" href="#address-space" title="Permalink to this heading"></a></h2>
<table class="docutils align-center" id="id2">
<caption><span class="caption-text">Tab. 1</span><a class="headerlink" href="#id2" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 56%" />
<col style="width: 44%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Register</p></th>
<th class="head"><p>Address</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Output interface</p></td>
<td><p>0x00</p></td>
</tr>
<tr class="row-odd"><td><p>Address</p></td>
<td><p>0x04</p></td>
</tr>
<tr class="row-even"><td><p>Write data</p></td>
<td><p>0x08</p></td>
</tr>
<tr class="row-odd"><td><p>Read data</p></td>
<td><p>0x0C</p></td>
</tr>
<tr class="row-even"><td><p>Command</p></td>
<td><p>0x10</p></td>
</tr>
<tr class="row-odd"><td><p>Status</p></td>
<td><p>0x14</p></td>
</tr>
</tbody>
</table>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../pipe/readme.html" class="btn btn-neutral float-left" title="MI Pipe" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../reconf/readme.html" class="btn btn-neutral float-right" title="MI Reconfigurator" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, CESNET z.s.p.o..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>